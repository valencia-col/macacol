<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chimpancé Calc</title>
    <link rel="manifest" href="manifest.json">
    <style>
    /* 1. Fondo general (Oscuro relajante) */
    body {
        background-color: #121212; /* Un gris casi negro */
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        margin: 0;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    /* 2. El contenedor (La cara del mono) */
    .calc-container {
        background-color: #1e1e1e;
        padding: 20px;
        border-radius: 30px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        text-align: center;
        width: 320px;
    }

    /* 3. La pantalla (Donde se ve el número) */
    #pantalla {
        width: 90%;
        height: 60px;
        background-color: #252525;
        border: none;
        color: #FF9800; /* Naranja como el gato */
        font-size: 32px;
        text-align: right;
        padding: 10px;
        border-radius: 15px;
        margin-bottom: 20px;
        outline: none;
    }

    /* 4. Estilo de los botones */
    button {
        width: 60px;
        height: 60px;
        margin: 5px;
        border-radius: 50%; /* Botones redondos */
        border: none;
        font-size: 20px;
        cursor: pointer;
        background-color: #333333; /* Gris oscuro para números */
        color: white;
        transition: 0.2s;
    }

    /* Efecto al tocar el botón */
    button:active {
        transform: scale(0.9);
        background-color: #444;
    }

    /* 5. Colores especiales para operadores */
    button[onclick*="clickBtn('+')"], 
    button[onclick*="clickBtn('-')"], 
    button[onclick*="clickBtn('*')"], 
    button[onclick*="clickBtn('/')"] {
        background-color: #2c2c2c;
        color: #FF9800; /* Operadores en naranja */
    }

    /* El botón de IGUAL (=) es el protagonista */
    #igual {
        background-color: #FF9800;
        color: white;
        border-radius: 30px;
        width: 135px; /* Más ancho */
    }

    .chimp-head {
        margin-bottom: 15px;
        opacity: 0.9;
    }
</style>
    </head>
<body>

    <div class="calc-container">
        <div class="chimp-head">
            <img src="./chimpance.jpg" alt="Icono Chimpancé" style="width: 80px; height: 80px; margin-bottom: 15px; border-radius: 50%;">
        </div>

        <input type="text" id="pantalla" readonly value="0">

        <div class="botones">
            <button onclick="limpiar()">C</button>
            <button onclick="clickBtn('/')">÷</button>
            <button onclick="clickBtn('*')">x</button>
            <button onclick="borrar()">←</button>
            <br>
            <button onclick="clickBtn('7')">7</button>
            <button onclick="clickBtn('8')">8</button>
            <button onclick="clickBtn('9')">9</button>
            <button onclick="clickBtn('-')">-</button>
            <br>
            <button onclick="clickBtn('4')">4</button>
            <button onclick="clickBtn('5')">5</button>
            <button onclick="clickBtn('6')">6</button>
            <button onclick="clickBtn('+')">+</button>
            <br>
            <button onclick="clickBtn('1')">1</button>
            <button onclick="clickBtn('2')">2</button>
            <button onclick="clickBtn('3')">3</button>
            <button id="igual" onclick="calcular()">=</button>
            <br>
            <button onclick="clickBtn('0')" style="width: 100px;">0</button>
            <button onclick="clickBtn('.')">.</button>
        </div>
    </div>
<script>
    const pantalla = document.getElementById('pantalla');

    // 1. ESCRIBIR EN PANTALLA
    function clickBtn(valor) {
    vibrar()
        // Si hay un 0 inicial, lo quitamos para poner el nuevo número
        if (pantalla.value === "0") {
            pantalla.value = valor;
        } else {
            pantalla.value += valor;
        }
    }

    // 2. LIMPIAR TODO (Botón C)
    function limpiar() {
        pantalla.value = "0";
    }

    // 3. BORRAR ÚLTIMO CARÁCTER (Botón ←)
    function borrar() {
        pantalla.value = pantalla.value.slice(0, -1);
        if (pantalla.value === "") pantalla.value = "0";
    }

    // 4. EL MOTOR DE CÁLCULO (Seguro)
    function calcular() {
        try {
            // SEGURIDAD: Solo permitimos números y operadores básicos
            // Esto evita que alguien ejecute código malicioso
            const expresionSegura = pantalla.value.replace(/[^0-9+\-*/.]/g, '');
            
            // Calculamos el resultado
            let resultado = eval(expresionSegura);

            // Si el resultado tiene muchos decimales, lo cortamos a 2
            if (!Number.isInteger(resultado)) {
                resultado = resultado.toFixed(2);
            }

            pantalla.value = resultado;
        } catch (error) {
            pantalla.value = "Error";
            setTimeout(limpiar, 1500); // Si hay error, se limpia en 1.5 seg
        }
    }
    function vibrar() {
    // Verifica si el celular soporta vibración
    if (navigator.vibrate) {
        // Vibra por 50 milisegundos (un toque rápido y elegante)
        navigator.vibrate(50);
    }
}
function vibrar() {
    if (navigator.vibrate) {
        navigator.vibrate(50); // Vibra 50 milisegundos
    }
}
</script>
</body>
</html>
